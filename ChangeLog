Thu Aug 22 17:35:34 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/dblib/bcp.c:
	- fix error that cause core dump in Linux, errno is strangely
	  defined in Linux, do not use for variable name

Thu Aug 22 10:44:52 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/odbc/odbc.c:
	- workaround for set autocommit option
	* src/tds/convert.c:
	- avoiding writing to stderr, use tdsdump_log

Wed Aug 21 23:28:58 EDT 2002	JK Lowden <jklowden@schemamania.org>
	* src/apps/freebcp.c	better diagnostics and -v support
	* src/tds/asprintf.c	PD version of function for systems that lack it.
	* configure.in		support vasprintf test, fix '==' error in thread checking
	* src/dblib/dblib.c	use vasprintf in dbfcmd
	* src/tds/Makefile.am	added asprintf.c to list of sources
	* src/tds/config.c	allow :port to describe port as part of servername.  
	
Wed Aug 21 21:42:54 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/convert.c:
	- convert from text using char conversions
	- return just fail converting from ntext avoiding crashes
	- do not warning on missed conversion if conversion impossible
	- added many TODO for missed conversion
	- return TDS_FAIL converting from char to binary if wrong syntax
	- add conversion from bit to binary
	- fixed conversion from money to char in Bill code 
	  (commented but not surely)
	- added conversion from money to money4

Wed Aug 21 20:31:57 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* configure.in:
	- option to enable thread safety

Wed Aug 21 14:38:54 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/dblib/bcp.c src/tds/convert.c src/tds/login.c:
	* src/tds/numeric.c src/tds/token.c src/tds/unittests/t0008.c:
	- make g__numeric_bytes_per_prec const solving problem
	- connecting to both Sybase and mssql at the same time

Wed Aug 21 14:00:23 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/ctlib/unittests/t0007.c src/ctlib/unittests/Makefile.am:
	* src/ctlib/unittests/t0003.c:
	- test for string length
	* src/ctlib/ct.c:
	- do not return garbage data on string
	* src/tds/token.c:
	- fixed set of cur_row_size for TDS_NUMERIC data

Wed Aug 21 13:38:18 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/login.c include/tds.h.in:
	- temporary fix for password limit length

Fri Aug 18 21:32:06 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/ctlib/unittests/t0006.c:
	- add some tests for converting from char to money
	- print failed test line
	* src/tds/convert.c: fix conversion from char to money
	- handle not terminated string correctly
	- fix strange sintax like '++++-123.12.3'
	- do not overflow buffer for digits
	- do not convert '1.11111' to 11.1111
	- do not handle syntax like 'foo'
	* src/tds/login.c:
	- do not core on out of memory

Fri Aug 18 14:26:05 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/ctlib/cs.c:
	- fix 2 off-by-one buffer overflow in cs_convert
	- use len returned instead of strlen, work in unterminated string
 	  and string containing '\0'
	* src/dblib/dblib.c:
	- fix 2 buffer underflow rtrimming string
	- use len returned for string
	* src/odbc/convert_sql2string.c:
	- use len returned for string
	* src/odbc/convert_tds2sql.c:
	- added some FIXME comment

Fri Aug 18 13:40:50 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/convert.c:
	- add function to handle return to char
	- add some TODO and FIXME
	- fixed a small off-by-one buffer 
	  overflow converting from char to date

Fri Aug 18 10:52:03 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/convert.c:
	- return sizeof(TDS_MONEY) instead of 8 (not always 8 byte long)
	- add conversion from money4 to int type
	- add conversion from money4 to real type
	- fix bug converting from money4 to float on 64bit machine
	- fix possible precision loss converting from money to float
	- check overflow converting from money to int

Fri Aug 17 16:17:09 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/ctlib/Makefile.am src/dblib/Makefile.am src/odbc/Makefile.am:
	- add link to iconv library if needed

Fri Aug 17 11:56:48 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/ctlib/cs.c:
	- count terminator for resultlen if string terminated
	* src/ctlib/unittests/Makefile.am src/ctlib/unittests/t0006.c:
	- add test for some conversion

Fri Aug 17 08:16:30 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/ctlib/ct.c:
	- test on blob with tds type, not ct type

Fri Aug 17 07:20:03 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/Makefile.am:
	- moved LIBICONV link to LDADD, not LTLIBRARIES
	* src/apps/.cvsignore src/pool/.cvsignore .cvsignore:
	- ignore autogenerated file

Fri Aug 16 22:52:23 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* include/ctlib.h include/dblib.h include/tds.h.in
	* src/apps/tsql.c src/ctlib/ctutil.c src/dblib/dbutil.c:
	- use pointer to structure instead of void for message handler
	  functions

Fri Aug 16 19:54:55 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/apps/tsql.c:
	- test conversion result
	- initialize date_fmt
	- free allocated string returned by tds_convert
	- do not pass login as parent

Fri Aug 16 19:31:03 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/mem.c src/tds/config.c:
	- clear password field before releasing memory
	(help to prevent password on swap file)

Fri Aug 16 19:09:43 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	* src/tds/login.c:
	- finished trusted tds7 login
	* src/tds/challenge.c:
	- implement nt_resp
	- return result filling parameter
	* include/tds.h.in:
	- added member config to TDSSOCKET
	- declare tds_answer_challenge stuff
	* src/tds/token.c:
	- finished trusted tds7 login

Fri Aug 16 18:21:32 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ include/Makefile.am:
	- add tdsiconv.h to distribution
	+ include/tds.h.in include/tdsutil.h src/tds/write.c:
	- changed buffer param for tds_put_XXX to const
	+ src/tds/write.c:
	- applied small optimization to tds_put_buf
	- removed nested comment
	+ src/ctlib/Makefile.am src/odbc/Makefile.am:
	- add challenge.lo to link
	+ src/tds/Makefile.am:
	- add tds_willconvert.h to distribution
	- moved link to iconv to LDLIBRARIES directive

Fri Aug 16 14:22:19 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/tds/login.c:
	- send username/password if not domain
	- do not send dummy authentication structure
	- return correct result from tds7_send_login

Fri Aug 16 12:43:09 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/tds/convert.c: rewritten string_to_numeric:
	- improved performance
	- do not allocated unneeded and unchecked buffers
	- work with not terminated string
	- remove buffer overflow if number too long
	- check for numeric overflow
	+ src/tds/unittests/t0008.c: (new)
	- test numeric results

Fri Aug 16 10:26:12 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/tds/convert.c:
	- rewritten tds_atoi (to string_to_int), because atoi
	return 0 on bad string (such as "foo"), also work on
	unterminated string and do test on number overflow
	- check for overflow converting between int types
	- add test check to test conversion from char to int

Fri Aug 16 08:05:42 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/tds/convert.c: converting from bit:
	- return correct values
	- added terminator to returned string
	- return TDS_FAIL if failure

Fri Aug 16 07:51:38 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/tds/convert.c:
	- add VARCHAR to convert table
	- removed some unused variable and declaration
	- return correct value converting from binary to char
	- do not treat NVARCHAR like VARCHAR
	- added some memory allocation tests

Fri Aug 16 07:41:07 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/tds/convert.c:
	- add conversion from int to bit
	- add conversion from int to money
	- add conversion from money to bit

Fri Aug 16 07:05:32 CEST 2002   Frediano Ziglio <freddy77@angelfire.com>
	+ src/dblib/dblib.c: fix small buffer overflow
	+ src/ctlib/unittests/t0003.c:
	- initialize string value (needed by following strcat)

Sun Aug 11 12:36:40 EDT 2002	Brian Bruns <camber@ais.org>
	+ include/tds.h.in: add include config.h

Thu Aug  8 22:02:01 EDT 2002	Brian Bruns <camber@ais.org>
	+ src/ctlib/cs.c: set context parent
	+ src/ctlib/ctutil.c: call context handler if conn not set
	+ src/dblib/dblib.c: set context parent
	+ src/odbc/odbc.c: set context parent
	+ src/tds/util.c: context parent convience functions	
	+ configure.in: add checks for various 64bit int types
	+ acconfig.h: add HAVE_INT64
	+ include/tds.h.in: make TDS_INT8 a substituted value
	+ src/apps/tsql.c: fix call to tds_convert

Thu Aug  8 00:13:30 EDT 2002	JK Lowden <jklowden@schemamania.org>
	+ include/tds.h.in	tdsmoney now a union of TDS_INT8 and TDS_OLD_MONEY
	+ src/tds/convert.c	reinstituted numeric-based money handling.  
	* src/odbc/Makefile.am	Remove glib library dependency from ODBC

Tue Aug  6 00:16:34 EDT 2002	JK Lowden <jklowden@schemamania.org>
	+ include/tds.h.in	cosmetic changes
	+ include/sybdb.h 	changed DBDEAD to dbdead; provided macro.  Aids binary compatibility.
	+ src/dblib/dblib.c	dbconvert returns 0 if tds_convert returns 0
	+ src/tds/convert.c	char->bit disallows <0
				char->int allows embedded spaces
				hex->int is more efficient

Tue Jul 16 01:16:29 EDT 2002	JK Lowden <jklowden@schemamania.org>
	+ src/tds/tds_willconvert.h added, to support dbwillconvert
	+ src/tds/convert.c slightly modified to insert comments in tds_willconvert.h
	+ src/ctlib/ctutil.c, rename call to tds_reset_msg to tds_reset_msg_info

Mon Jul 15 03:29:58 EDT 2002	Brian Bruns <camber@ais.org>
	implemented TDSCONTEXT changes for message handling, affecting:
	+ include/cspublic.h
	+ include/tdsconvert.h
	+ include/tdsodbc.h
	+ src/ctlib/ct.c
	+ src/odbc/convert_sql2string.c
	+ src/odbc/convert_sql2string.h
	+ src/odbc/convert_tds2sql.c
	+ src/odbc/convert_tds2sql.h
	+ src/odbc/odbc.c
	+ src/odbc/odbc_util.c
	+ src/odbc/prepare_query.c
	+ src/server/login.c
	+ src/tds/convert.c
	+ src/tds/login.c
	+ src/tds/mem.c
	+ src/tds/query.c
	+ src/tds/read.c
	+ src/tds/write.c
	+ src/tds/unittests/common.c	
Sun Jul 14 23:25:21 EDT 2002	Brian Bruns <camber@ais.org>
	+src/tds/mem.c: added tds_alloc_context/free_context
	*src/tds/token.c: call handlers with context param
	*src/dblib/dbutil.c: pass context to handler
	*src/dblib/dblib.c(dbinit): allocate context
	*src/ctlib/ctutil.c: pass context to handler
	*src/ctlib/ctlib.c(ct_init): allocate context

Thu Jul 11 23:06:00 EDT 2002	Brian Bruns <camber@ais.org>
	*src/odbc/odbc.c: fix null binds in SQLFetch
	*src/dblib/dblib.c: implement dbsafestr
	*src/dblib/unittest/t0021.c: dbsafestr test

Thu Jul 11 01:47:47 EDT 2002 JK Lowden <jklowden@schemamania.org>
	+ src/tds/convert.c, implement tds_willconvert
	+ include/tds_willconvert.h, perl-generated static data 
	+ src/tds/convert.c, implement tds_willconvert
	* src/dblib/dblib.c, implement dbwillconvert via tds_willconvert

Tue Jul  9 23:16:12 EDT 2002 JK Lowden <jklowden@schemamania.org>
	declare TDSUNIQUE in the same way as windows and unixodbc (Frediano):
	+ include/tds.h.in, patch #579149.
	+ src/tds/convert.c, patch #579149
	* src/tds/convert.c, simplify tds_convert_text
	* src/dblib/dblib.c, fix dbconvert to work with new tds_convert_text
	* src/tds/token.c, tds_process_row, fix little endian numeric datatype (Bill Thompson)

Mon Jul  8 19:03:33 EDT 2002 JK Lowden <jklowden@schemamania.org>
	* src/tds/convert.c: reverted tds_convert_text to 1.12 logic; 
		1.13 patch was mistaken, per Brian.  

Mon Jul  8 21:25:47 EDT 2002	Brian Bruns <camber@ais.org>
	*acinclude.m4: add macros to detect _r function signature
	*configure.in: add macros
	*src/tds/threadsafe.c: ifdef _r functions
	*doc/userguide.sgml: minor expansion on some finer points
	*include/sybdb.h: added avail_flag to DBPROCESS structure
	*src/dblib/dblib.c:  added implementation of DBISAVAIL and dbsetavail, 
		set avail_flag in dbsqlsend, dbbind, dbcmd, and dbfcmd.

Sat Jul  6 15:20:06 EDT 2002 JK Lowden <jklowden@schemamania.org>
	Several patches from Frediano Ziglio:
	* src/odbc/odbc.c, patch 577931, correct memory leak
	* patch 578058, spell check various documentation files.
	* src/tds/iconv.c, patch 565835. Fixes some problem with iconv routines.
	* src/tds/convert.c, patch 574490.  
		Handle endianism for uniqueidentifier datatype
	
Sat Jul  6 11:22:08 EDT 2002 JK Lowden <jklowden@schemamania.org>
	* autogen.sh: change so that "--include-deps" is always passed to automake.  
    	* include/Makefile.am: change "$(RM)" to "rm -f".

Fri Jul  5 07:39:04 EDT 2002
	*src/tds/token.c(tds_process_msg): (from lirm604) check for closed 
		connection
	*src/dblib/dblib.c: (from lirm604 mods by me) test return from 
		tds_process_default_tokens
	*src/tds/threadsafe.c: encapsulate thread safe calls here
	*src/tds/config.c: make calls reentrant (from lirm604)
	*src/tds/convert.c: make calls reentrant (from lirm604)
	*src/tds/util.c: make calls reentrant (from lirm604)

Thu Jul  4 08:29:22 EDT 2002	Brian Bruns <camber@ais.org>
	*src/tds/*.c: add ifdef DMALLOC
	*src/tds/mem.c: remove possible free of NULL pointer
	* src/tds/write.c: (from freddy77) write all packet to socket (fix for very 
		long query) 
	* src/tds/config.c: (from freddy77) fix buffer overflow
	* src/server/login.c: (from chend) tds7 login reader with mods by me
	* src/server/convert.c: (from freddy77) remove global temp buffer

Mon Jul  1 18:06:23 EDT 2002	Brian Bruns <camber@ais.org>
	*src/tds/mem.c: add fields to tds_free_config and call tds_free_msg in
		tds_free_socket (dnr)
	*src/tds/token.c(tds_process_msg): call tds_free_msg

Sun Jun 30 20:35:41 EDT 2002	Brian Bruns <camber@ais.org>
	*include/sybdb.h: add defines for severity levels

Fri Jun 28 00:10:15 EDT 2002	Brian Bruns <camber@ais.org>
	*configure.in: change version number in preparation for 0.60

Tue Jun 11 07:18:29 EDT 2002	Brian Bruns <camber@ais.org>
	*src/apps/tsql.c: get conversion type before calling tds_convert
	*src/apps/freebcp.c: memset PARAMDATA structure to 0 (Bill)

Sun Jun  9 18:17:46 EDT 2002	Brian Bruns <camber@ais.org>
	* src/apps/Makefile.am: initial implementation
	* src/apps/freebcp.c: initial implementation (Bill Thompson)
	* src/apps/freebcp.h: initial implementation (Bill Thompson)
	* src/apps/tsql.c: initial implementation
	* src/tds/token.c: remove check for parent on call to message handler

Sun Jun  9 09:47:34 EDT 2002	Viktar Klimkovitch <vklimk@yahoo.com>
	* src/odbc/convert_sql2string.c:
	- add checking of ODBC driver version
	* src/odbc/odbc.c:
	- move LogError() to odbc_util.c to odbc_LogError()
	- replace all LogError() calls to odbc_LogError()
	- add checking of ODBC driver version
	- add more logging
	- fix SQLGetFunctions()
	- improve SQLGetInfo() a little
	- change ODBC driver version to 02.00 to help driver
	   manager do it's work
	- improve SQLGetStmtOption()/SQLSetStmtOption() a little
	- improve SQLGetConnectionOption()/SQLSetConnectionOption() a little
	* src/odbc/odbc_util.c:
	- add declaration of odbc_LogError() and odbc_GetLastError()
	- add implementation of odbc_LogError() and odbc_GetLastError()
	* src/odbc/prepare_query.c:
	- add more logging

Wed May 29 07:02:37 EDT 2002	Viktar Klimkovitch <vklimk@yahoo.com>
	* include/tdsodbc.h:
	- add prepared_query_is_func member to struct _hstmt
	* src/odbc/odbc.c:
	- fix SQLMoreResults()
	- fix SQLConnect()
	- fix SQLDisconnect()
	- use prepare_call() instead of odbc_fix_literals()
	- fix getting long data
	- delete some old comments
	- fix SQLGetFunctions()
	- fix SQLGetInfo()
	- fix some type mismatch
	* src/odbc/odbc_util.h:
	- add odbc_set_return_status() declaration
	- remove odbc_fix_literals() declaration
	* src/odbc/odbc_util.c:
	- add odbc_set_return_status() implementation
	- remove odbc_fix_literals() implementation
	* src/odbc/prepare_query.c:
	- add prepare_call() implementation
	- fix parse_prepared_query()
	* src/odbc/prepare_query.h:
	- add prepare_call() declaration
	* src/tds/token.c:
	- fix tds_process_result_tokens()

Fri May 24 21:18:20 EDT 2002	Viktar Klimkovitch <vklimk@yahoo.com>
	* include/tds.h.in:
	- Add field TDS_INT column_text_sqlgetdatapos to TDSCOLINFO. We use it
	in SQLGetData() when user get long data in parts
	* include/tdsodbc.h:
	- struct _hstmt: change query from array to pointer, add some members
	to parse prepared query in SQLExecute(), SQLPutData()
	* src/odbc/Makefile.am:
	- Add new sources: convert_tds2sql.c, convert_sql2string.c,
	prepare_query.c, odbc_util.c
	- link $(LIBICONV) to libtdsodbc
	* src/odbc/convert_sql2string.h:
	- declare convert_sql2string() function, which convert sql data to
	string while parsing prepared query
	* src/odbc/convert_sql2string.c:
	- implementation of convert_sql2string(), you can add more conversions
	here
	* src/odbc/convert_tds2sql.h:
	- declare convert_tds2sql() function, which convert tds data to sql
	data while SQLFetch() and SQLGetData()
	* src/odbc/convert_tds2sql.c:
	- implementation of convert_tds2sql(), you can add more conversions here
	* src/odbc/odbc_util.h:
	- declare odbc_set_stmt_query() function which allocate query in struct
	_hstmt
	- declare odbc_set_stmt_prepared_query() function which allocate
	prepared_query in struct _hstmt
	- declare odbc_get_client_type()
	- declare odbc_fix_literals()
	- declare odbc_get_string_size()
	* src/odbc/odbc_util.c:
	- implement declared in src/odbc/odbc_util.h functions
	* src/odbc/prepare_query.h:
	- declare start_parse_prepared_query(), which called from SQLExecute()
	- declare continue_parse_prepared_query(), which called from
	SQLPutData()
	* src/odbc/prepare_query.c:
	- implement parsing of prepared query
	* src/odbc/odbc.c:
	- move _odbc_XXXXXXXXXX() functions to separate files and remove first
	'_' from they names
	- _odbc_fixup_sql() replaced by start_parse_prepared_query() and
	continue_parse_prepared_query() from src/odbc/prepare_query.h
	- Insert LogError ("FuncName: function not implemented") calls to every
	non implemented function. It makes debugging of applications uses
	tdsodbc more convenient
	- SQLBindParameter(): use odbc_find_param() to find _sql_param_info,
	insert new _sql_param_info in the beggining of list - it is just easy
	and allow to use odbc_find_param() before
	- move odbc_fix_literals() from _SQLExecute() to SQLExecDirect() and
	SQLExecute()
	- remove _odbc_fixup_sql() from _SQLExecute() and use
	start_parse_prepared_query() in SQLExecute()
	- now we set query in _hstmt only by odbc_set_stmt_query()
	- SQLFetch() and SQLGetData(): use convert_tds2sql() instead of
	tds_convert(), parse locale not tds to convert_tds2sql()
	- _SQLFreeStmt(): free stmt->query and stmt->prepared_query
	- SQLGetData(): now you can get long data in parts
	- SQLGetFunctions(): set SQL_API_SQLNUMPARAMS as exists
	- SQLGetInfo(): fix return value for SQL_DRIVER_ODBC_VER
	- implement SQLParamData()
	- implement SQLPutData()
	* src/tds/convert.c:
	- fix tds_convert_text() function
	- fix tds_convert_char() function: make correct building of
	any.dt.dttime and any.dt4.minutes
	* src/tds/mem.c:
	- fix tds_alloc_param_result() function

Sun May 19 21:41:21 2002  James K. Lowden <jklowden@speakeasy.org>
	Applied patch from Harry Felder for more flexible logging.

Mon May 13 21:39:40 2002  Frediano Ziglio <freddy77@angelfire.com>

	* doc/tds7.txt:
	- update with info from source and other test

Thu May  2 11:11:12 2002  Frediano Ziglio <freddy77@angelfire.com>

	* src/odbc/odbc.c:
	- cleanup Driver Manager functions
	- clear param_count executing SQLExecDirect

Fri Apr 26 19:04:55 2002  James Cameron  <quozl@us.netrek.org>

	* doc/userguide.sgml: add link target to known issues section,
	warn about posting TDSDUMP logs to mailing lists, add link target
	to "Page contains no data" section, add description of how to make
	a backtrace to determine cause of a segmentation fault, add link
	target to mailing list section, add self to contributors list.

Tue Apr 16 20:41:47 EDT 2002	Brian Bruns  <camber@ais.org>
	* acinclude.m4: macro for have INADDR_NONE
	* configure.in: Add call for macro and header checks
	* acconfig.in: add INADDR_NONE 

Mon Apr 15 22:18:49 EDT 2002	Brian Bruns  <camber@ais.org>

	* src/tds/login.c(tds_connect): hooked up connect timeout from config file 
	to actually work!

Tue Apr  9 10:24:12 2002  Frediano Ziglio <freddy77@angelfire.com>

	* src/odbc/odbc.c:
	- changed return of unimplemented function from SQL_SUCCESS to 
	SQL_ERROR. User program assume that result are successfully set on 
	SQL_SUCCESS so user program can read garbage data or do other strange 
	assuming. Not changed result for function like SQLDisconnect that 
	work in the same way
	- implemented SQLMoreResults and SQLNumParams
	- return SQL_ERROR on memory allocation failure
	- check all statement entering in functions
	- removed some compiler warning due to conversion
	- improved SQLFreeStmt (support all type of free) and fix (not unbind
	on SQL_CLOSE)
	- added some type handling (like SYBINTN) converting from tds to odbc
	- fixed some strange indentation

Mon Apr  8 18:10:17 2002  James Cameron  <quozl@us.netrek.org>

	* src/tds/login.c (tds_connect): Add more context to connection
	failure message as written to stderr.  Call tds_free_socket()
	before returning NULL in each case, to prevent a socket leak.
	Added code to test for a failure on connect() in non-blocking
	mode, as it can return an error that will prevent the following
	select() from ever returning.  Removed unnecessary clearing of
	retval prior to select() call.

Thu Apr  4 18:08:42 EST 2002	Brian Bruns	<camber@ais.org>

	*src/odbc/odbc.c(SQLFetch): missed last column when transfering binds
	*src/dblib/dblic.c: set default values for null columns when binding

Thu Mar 28 00:10:46 EST 2002	Mark Lilback <mark@lilback.com>

	* src/tds/token.c: recognizes extra column info when processing
	result sets via tds7 (writeable, nullable, identity)

Wed Mar 27 16:00:00 CST 2002    Steve Langasek <vorlon@netexpress.net>

	* src/tds/read.c: commit a fix for goodread() that I've been
      sitting on.  EINTR handling still needs improvement in the common 
      case, but killing one out of two bugs is still progress.

Sun Mar 24 09:19:19 EST 2002	Brian Bruns	<camber@ais.org>

	* acinclude.m4: modified SSL check to use config.h

Thu Mar 21 22:21:29 EST 2002	Brian Bruns	<camber@ais.org>

	* include/tdsodbc.h: added row field to stmt struct
	* src/odbc/odbc.c: move bind transfer to SQLFetch from _SQLExecute

Thu Mar 14 20:53:46 EST 2002	Brian Bruns <camber@ais.org>

	* acinclude.m4: added macro for openssl
	* configure.in: added --with-ssl option
	* src/ctlib/unittest/Makefile.am: added t0005 test
	* src/tds/Makefile.am: added challege.c to compile list
	* src/tds/convert.c: fix datetime -> string convert for -1 destlen
	* src/tds/token.c: fix dynamic token handling if not seen prior

Mon Mar 06 20:43:22 EST 2002	Mark Lilback <mark@lilback.com>

	* src/tds/config.c: does not do a lookup if passed an ip address. 
	compile flag added to not do reverse lookups on ip addresses.

Wed Feb 20 16:12:58 EST 2002	Brian Bruns	<camber@ais.org>

	* src/odbc/odbc.c: added SQL_DESC_TYPE to switch statement

Sun Feb 17 15:14:20 EST 2002	Brian Bruns	<camber@ais.org>
	* include/tds.h.in: add TDSLOCINFO structure and move date format stuff 
	to there.
	* include/cspublic.h: add locale pointer to CS_CONNECTION
	* include/tdsodbc.h: add locale pointer to _henv structure
	* src/tds/convert.c: strftime return not checked, broke sqsh
	* src/tds/login.c: tds_connect now takes locale parameter
	* src/tds/mem.c: add locales
	* src/dblib/dblib.c: fix call to tds_connect
	* src/dblib/ct.c: fix call to tds_connect
	* src/dblib/cs.c: add locales
	* src/pool/member.c: fix call to tds_connect
	* src/odbc/odbc.c: fix call to tds_connect
	* src/tds/locale.c: first implementation of locale conf file
	* locales.conf: sample locales.conf file

Thu Feb 14 22:08:17 EST 2002	Brian Bruns	<camber@ais.org>

	* include/tds.h.in: add date format config option
	* include/tdsconvert.h: pass tds to tds_convert
	* src/tds/mem.c: free date_fmt in socket and config
	* src/tds/login.c: copy date_fmt from config to socket struct
	* src/tds/convert.c: pass around TDSSOCKET where needed
	* src/tds/config.c: add date format option, don't lowercase values
	* src/dblib/dblib.c(dbconvert): pass to TDSSOCKET to tds_convert
	* src/ctlib/ct.c: pass TDSSOCKET to tds_convert
	* src/ctlib/cs.c: pass TDSSOCKET to tds_convert
	* src/odbc/odbc.c: pass TDSSOCKET to tds_convert

Sun Feb 10 21:30:05 EST 2002	Brian Bruns	<camber@ais.org>

	* configure.in: error if gmake not found
	* src/odbc/odbc.c: parameter bind support better
	* src/tds/write.c(tds_put_string): change to char * from ansi C
	 
Wed Feb  6 07:32:32 EST 2002	Brian Bruns	<camber@ais.org>

	* src/odbc/odbc.c(SQLGetInfo): added SQL_ACTIVE_STATEMENTS
	* src/odbc/odbc.c(SQLCancel): implemented
	* include/tdsodbc.h: add parameter binding link list
	* src/odbc/odbc.c: added back temporary link list for column binds to be
	bound later when we have a res_info struture.  Preliminary work on 
	parameter binding too.
 
Thu Jan 31 10:07:18 EST 2002	Brian Bruns	<camber@ais.org>

	* include/sybdb.h: add back define for dbopen removed by ansi patch
	* AUTHORS: Add Chris Eleved

Wed Jan 30 21:19:34 EST 2002	Brian Bruns	<camber@ais.org>
	
	* : Patches from Chris Eleveld <ihermit2@yahoo.com> for ANSI C compliance

Fri Jan 25 08:11:09 EST 2002	Brian Bruns	<camber@ais.org>

	* src/odbc/odbc.c (SQLGetInfo): Initial implementation by Paul Williamson 
	<pwillia6@csc.com.au>

Thu Jan 24 21:27:26 EST 2002	Brian Bruns	<camber@ais.org>

	* src/pool/user.c: Remove C++ style comment
	* src/pool/stream.c: Remove C++ style comment
	* src/dblib/dblib.c: Remove C++ style comment.  Add implementation of 
	dbcanquery from Patrick van Kleef <pkleef@openlinksw.com>
	* src/dblib/unittest/t0012.c: Remove C++ style comment
	* src/dblib/unittest/t0013.c: Remove C++ style comment
	* src/dblib/unittest/t0014.c: Remove C++ style comment
	* src/dblib/unittest/t0016.c: Remove C++ style comment
	* src/dblib/unittest/t0017.c: Remove C++ style comment
	* src/odbc/odbc.c: Remove C++ style comment
	* src/tds/token.c (tds_process_row): Test for NULL res_info

Wed Jan 23 17:31:53 EST 2002	Brian Bruns	<camber@ais.org>

	* src/tds/token.c: Remove swap of message number on big endian machines
	* doc/tds.html: Add explanation of ORDER BY token from Chris Eleveld 
	<ihermit2@yahoo.com>
	* Makefile.am: Added samples to EXTRA_DIST line

Tue Jan 22 22:33:17 2002	Brian Bruns	<camber@ais.org>

	* configure.in: Added check for nsl(gethostbyname) for Solaris (Nick Gorham)
	* include/tds_configs.h.in: Added pool server conf file
	* doc/userguide.sgml: Updated tdspool section
	* src/odbc/odbc.c: ODBC 2.5 fix from openlink
	* src/pool/member.c: use database only if exists
	* src/pool/config.c: Config file location from build time

Mon Jan 21 22:03:37 2002  Brian Bruns  <camber@ais.org>
	
	* src/pool/user.c: Fixed EINVAL accept() bug
	* src/pool/config.c: initial implementation of tdspool config file
	* src/pool/Makefile.am: autoconf'ed tdspool
	* src/pool/pool.h: removed hard coded parameters
	* src/pool/main.c: removed hard coded parameters
	* src/ctlib/cs.c (cs_ctx_alloc):  Zero allocated structure. 
	* src/tds/mem.c (tds_free_results): Tighter checking.  From Bernd Rothert 
	<brothert@mzv.net>
	* src/ctlib/ct.c (ct_cancel): all tds_free_all_results(), instead of
	tds_free_results().  From Bernd Rothert <brothert@mzv.net>
	* src/ctlib/ct.c (ct_cancel): all tds_free_all_results(), instead of
	tds_free_results().  From Bernd Rothert <brothert@mzv.net>
	* src/tds/login.c (tds_connect): Throw a message if trying to connect to 
	a NULL config->ip_addr
	* src/tds/config.c: Added FREETDSCONF env var to locate freetd.conf in 
	non-standard place, and TDSHOST to specify hostname at runtime.  From 
	Patrick van Kleef <pkleef@openlinksw.com>
	* src/tds/token.c (tds_reset_msg): Check for null TDSSOCKET.  From 
	Patrick van Kleef <pkleef@openlinksw.com>
	* src/dblib/dblib.c (dbvarylen): Initial implementation.  From Patrick 
	van Kleef <pkleef@openlinksw.com>
	* src/odbc/odbc.c (SQLGetFunctions): Check ODBCVER for 
	SQL_API_ODBC3_ALL_FUNCTIONS.  From Patrick van Kleef 
	<pkleef@openlinksw.com>
	* include/Makefile.am: Add $srcdir to tds_configs.h.in 
	From Patrick van Kleef <pkleef@openlinksw.com>
	
Sat Jan 12 21:46:41 2002  James Cameron  <quozl@us.netrek.org>

	* src/tds/login.c (tds_connect): verify that config->ip_addr is
	not NULL, since passing NULL to inet_addr() causes a segmentation
	violation on OpenVMS.  Ruslan had the error say "server IP address
	cannot be resolved" but I felt it was not the responsibility of
	tds_connect() to make such an assumption.  The failure to resolve
	the name is the responsibility of config.c.  From "Ruslan
	R. Laishev" <laishev@mail.dls.net>
	
Sun Dec 16 10:32:57 EST 2001	Brian Bruns <camber@ais.org>

	* src/ctlib/ct.c: Add stubs for ct_send_data and ct_data_info per 
	Michael Peppler for DBD::Sybase 0.94
	
Thu Dec  6 11:53:04 2001  James Cameron  <quozl@us.netrek.org>

	* doc/userguide.sgml: complete instructions for Microsoft SQL
	Server 2000.

Wed Dec  5 15:45:49 2001  James Cameron  <quozl@us.netrek.org>

	* doc/userguide.sgml: describe precise sequence to turn on SQL
	Server authentication under Microsoft SQL Server 7.  Still need
	description for Microsoft SQL Server 2000.  Wrapped ChangeLog.

Sun Dec  2 11:10:24 EST 2001	Brian Bruns <camber@ais.org>
	
	* src/odbc/odbc.c: Implemented SQLGetFunctions
	* include/tds.h.in: Added TDSINPUTPARAM structure, added
	num_params and params array to TDSDYNAMIC
	* src/tds/mem.c: Added tds_add_input_param() and
	tds_free_input_params() functions.  Added call to
	tds_free_input_params to tds_free_socket()
	* src/tds/query.c: Added tds_submit_execute() for dynamic
	placeholder suport.
	* src/tds/convert.c: Added tds_get_null_type to convert fixed
	datatypes to their nullable type.
	* src/ctlib/ct.c: Added CS_EXECUTE support to ct_send and ct_param

Fri Nov 30 18:41:10 EST 2001	Brian Bruns <camber@ais.org>

	* src/odbc/odbc.c: Change missing "Database" parameter to
	Servername.  Force SQLGetFunctions to return SQL_FALSE for ODBC3
	* Makefile.am: No longer install interfaces file by default

Thu Nov 29 18:13:01 EST 2001	Brian Bruns <camber@ais.org>

	* src/dblib/unittests/t0009.c: changed varchar(10) to char(10)
	* src/ctlib/unittests/t0004.c: fixed results order for update and
	added insert and select

Mon Nov 26 16:06:05 EST 2001	Brian Bruns <camber@ais.org>
	
	* doc/userguide.sgml: added new chapter "advanced configurations"

Sun Nov 25 18:02:24 CST 2001    Steve Langasek <vorlon@netexpress.net>

	* added an explicit pointer check in tds/token.c when handling
	  messages sent by the server; fixes a segfault when using the
	  ODBC driver.
	* s/SQL_DATETIME/SQL_DATE/ in ODBC source, for compatibility
	  with older ODBC driver managers

Sun Nov 25 13:45:45 EST 2001	Brian Bruns <camber@ais.org>

	* include/tds.h.in: add TDS_STR_CLCHARSET define and all
	client_charset to the TDSCONFIG structure.
	* src/tds/mem.c(tds_free_config): free client_charset 
	* src/tds/mem.c(tds_free_socket): call tds_iconv_close()
	* src/tds/config.c: check for 'client charset' in freetds.conf
	* src/tds/iconv.c: set tds->use_iconv on successful loading of
	iconv routines
	* src/tds/login.c(tds_connect): call tds_iconv_open() if
	client_charset is
	* doc/userguide.sgml: add 'client charset' description to
	freetds.conf table

Thu Nov 22 18:26:34 EST 2001	Brian Bruns <camber@ais.org>

	* src/dblib/dblib.c: modify DBROWS to check for validity of resinfo

Wed Nov 21 17:15:23 2001  James Cameron  <quozl@us.netrek.org>

	* .cvsignore: remove all generated files from CVS.
	* doc/faq.html: add pointer to instructions for building from CVS
	after a checkout.

Tue Nov 20 12:44:13 2001  James Cameron  <quozl@us.netrek.org>

	* autogen.sh: new file to perform package configuration from 'make
	maintainer-clean' state, copied from Glade.

Tue Nov 20 12:31:25 2001  James Cameron  <quozl@us.netrek.org>

	* INSTALL.CVS: new file to explain process of building from CVS.

Tue Nov 20 11:48:26 2001  James Cameron  <quozl@us.netrek.org>

	* doc/userguide.sgml: adjust build instructions; gmake does not
	work on some Linux systems, as GNU make is installed as make not
	gmake.  Ensure that the instructions match against INSTALL.  Fix
	name of GNU Project and software development tools therein.

Tue Nov 20 11:41:40 2001  James Cameron  <quozl@us.netrek.org>

	* INSTALL: simplify installation instructions in favour of user
	guide, fix URL to guide.

Tue Nov 20 11:34:54 2001  James Cameron  <quozl@us.netrek.org>

	* README, doc/faq.html: fix User Guide URL

Tue Nov 13 23:41:17 EST 2001	Brian Bruns <camber@ais.org>

	* src/dblib/dbutil.c: fix call to tds_reset_msg after libtds change.
	
Tue Nov 13 16:04:54 2001  James Cameron  <quozl@us.netrek.org>

	* doc/faq.html: add MAC OS X build FAQ entry, make a few language
	adjustments to text.

Sat Nov 10 12:37:27 EST 2001	Brian Bruns <camber@ais.org>

	* src/tds/unittests/common.c: fix call to tds_connect()
	* src/tds/config.c: revert Marks call to lookup_host for the host_name
	field.

Fri Nov  9 20:16:21 EST 2001	Brian Bruns <camber@ais.org>

	* src/tds/util.c: Add 'append mode' for logging
	* src/tds/config.c: Add freetds.conf support for append mode.
	* include/tds.h.in: Add TDS_STR_APPENDMODE

Fri Nov  9 11:49:58 2001  James Cameron  <quozl@us.netrek.org>

	* doc/faq.html: 5.1, adjust the CVS instructions in response to
	Norman's feedback, including module name.

Fri Nov  9 09:31:35 2001  James Cameron  <quozl@us.netrek.org>

	* include/tds.h.in: add tds_free_login, it was missing.

Thu Nov  8 15:25:34 2001  James Cameron  <quozl@us.netrek.org>

	* interfaces: reformat interfaces file and add note that it is
	superceded by freetds.conf, but still usable.

Thu Nov  8 14:21:47 2001  James Cameron  <quozl@us.netrek.org>

	* include/tds.h.in: surround malloc.h include with HAVE_MALLOC_H
	* include/config.h.in: add HAVE_MALLOC_H
	* configure.in: add check for malloc.h

Thu Nov  8 14:05:49 EST 2001	Mark Lilback <mark@lilback.com>
	
	* src/tds/config.c: check for nulls before calling strlen, sets
	config->id_addr
	* src/tds/write.c: added explicit return instead of using implied
	* src/dblib/dbutil.c: added function parameters to message handler
	declarations
	* src/dblib/bcp.c: modified hardcoded rowbuffer size to use a
	#define that is lowered for Mac OS 8/9
	* include/tdsutil.h: added declaration of tds_get_int
	* include/cspublic.h: added function parameters to mesage handler
	declarations
	* include/sybdb.h: added functions for proper error handling,
	missing dbcoltypeinfo declaration, added typeinfo struct to
	DBPROCESS
	* include/tds.h: added fields to colinfo struct
	* include/tds.h.in: added fields to colinfo struct
	* src/dblib/dblib.c: proper error handling possible, colinfo
	function thread safe, time adjustment on Mac OS
	* src/tds/convert.c: added missing return statements
	* src/tds/numeric.c: added missing return statements
	* src/tds/token.c: retrieves column info that was being ignored,
	message number swapped on big endian systems
	
Wed Nov  7 22:18:02 CST 2001    Steve Langasek <vorlon@netexpress.net>
	
	* Removed --enable-dbmfix configure option, because there's no
	longer a reason to ever disable this

Thu Nov  8 13:55:20 2001  James Cameron  <quozl@us.netrek.org>

	* .cvsignore: populate list of files to ignore during cvs update.

Wed Nov  7 22:21:06 EST 2001	Brian Bruns <camber@ais.org>

	* src/tds/ct.c: adding more tdsdump stuff
	* include/cspublic.h: added timestamp fields to iodesc for
	DBD::Sybase 0.93

Tue Nov  6 20:00:14 EST 2001	Brian Bruns <camber@ais.org>

	* src/tds/iconv.c: Check for null input on tds7_ascii2unicode and 
	tds7_unicode2ascii functions

Mon Nov  5 18:47:08 EST 2001  Brian Bruns <camber@ais.org>

	* src/tds/token.c(tds7_send_login): Precompute the lengths of
	login field and check for null strings.

Sun Nov  4 00:21:46 EST 2001	Brian Bruns <camber@ais.org>

	* src/tds/token.c(tds_client_msg): Client messages were not
	updated to pass TDSSOCKET instead of parent to CLI message
	handler.

Fri Nov  2 12:03:44 2001  James Cameron  <quozl@us.netrek.org>

	* include/tds.h.in, src/tds/token.c (tds_process_col_name):
	optimisation to add the column name length in the tds_column_info
	structure so as to obviate the need for strlen calls higher up.
	Since the length value is already available, this costs nothing.
	Derived from a patch by Ruslan R. Laishev <laishev@mail.dls.net>

Wed Oct 31 12:21:57 2001  James Cameron  <quozl@us.netrek.org>

	* src/ctlib/ct.c (ct_results): return CS_END_RESULTS instead of
	CS_SUCCEED on subsequent call after we had returned CS_SUCCEED.
	Related to special handling of queries with no result sets.  PHP
	was looping trying to flush the connection of result sets after
	the first one.

Tue Oct 30 14:04:57 EST 2001	Brian Bruns <camber@ais.org>

	* src/ctlib/ct.c (ct_results): add special handling of queries
	with no result sets (set rowcount/set textsize).

Tue Oct 30 13:23:27 2001  James Cameron  <quozl@us.netrek.org>

	* include/Makefile.am (maintainer-clean-local): clean up after
	generation of tds_configs.h

	* freetds.conf: improve formatting and layout of configuration
	file, and add a few fragments of additional information.

Mon Oct 29 18:40:03 EST 2001 Brian Bruns <camber@ais.org>
	
	* src/tds/token.c(tds_process_env_chg): add special handling for
	environment change type 7.

Fri Oct 26 07:11:05 2001  Brian Bruns <camber@ais.org>
	
	* src/tds/token.c(tds_process_msg): called message handler will be
	passed tdssocket instead of the parent structure.
	* src/dblib/dbutil.c: cast from TDSSOCKET, then lookup dbproc as
	above
	* src/dblib/dbutil.c: cast from TDSSOCKET, then lookup connection
	as above
	* src/tds/login.c(tds_connect): Take in second param 'parent' so
	callbacks can be called before having an established connection.
	* src/ctlib/ct.c: remove call to tds_set_parent and pass into
	tds_connect
	* src/dblib/dblib.c: remove call to tds_set_parent and pass into
	tds_connect
	* src/odbc/odbc.c: remove call to tds_set_parent and pass NULL to
	tds_connect
	* src/tds/config.c(tds_alloc_config): add default hostname
	returned from gethostname() to fix TDS 7 problem.

Thu Oct 25 10:58:38 2001  James Cameron  <quozl@us.netrek.org>

	* configure.in: add include/tds_configs.h to AC_OUTPUT
	
Tue Oct 24 19:07:15 2001 Brian Bruns <camber@ais.org>
	
	* configure.in: Added AM_CONFIG_HEADER
	* acconfig.h: needed for config header because of BSD_COMP
	* doc/faq/html: made XHTML 1.0 valid
	* src/*/*.c: added config.h include
	* acinclude.m4: iconv autoconf macro

Tue Oct 23 23:42:03 2001 Brian Bruns <camber@ais.org>
	
	* src/tds/iconv.c: new iconv functions for handling TDS7 unicode
	* src/tds/login.c: tds7_ascii2unicode() and tds7_unicode2ascii()
	moved to iconv.c
	* aclocal.m4: iconv detection

Sat Oct 20 15:54:28 2001 Brian Bruns <camber@ais.org>

	* src/tds/login.c: error handling for return of inet_addr()
	* doc/userguide.sgml: added freetds.conf and unixODBC sections,
	minor version updates

Fri Oct 20 10:43:31 Brian Bruns <camber@ais.org>

	* src/tds/config.c: Added optional debugging of server lookup

Fri Oct 19 12:26:02 2001  James Cameron  <quozl@us.netrek.org>

	* README: add users guide pointer.

Fri Oct 19 09:52:22 2001  James Cameron  <quozl@us.netrek.org>

	* NEWS: old ChangeLog placed here. This file is now the release
	notes for the project. Place a one line description of changes
	here.

Fri Oct 19 09:49:58 2001  James Cameron  <quozl@us.netrek.org>

	* ChangeLog: per discussions with Brian, this file now becomes the
	place for developers to write up their changes that are committed
	back to CVS. The file is reverse date order, and is appended to
	semi-automatically by some editors. For example, Emacs key
	sequence 'c-x 4 a' adds an entry.

